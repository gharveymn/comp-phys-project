#
# Makefile fuer das C-Programm NaSt2D-2.0 unter WINDOWS XP 
# ----------------------------------

DEL =    run *.bin *.out *.dat *.str *.tra
CC =     gcc
CFLAGS = -O

all: clean compile run 

# ----------------------------------Loeschen
clean: 
	rm $(DEL) -f

# ----------------------------------Kompilieren
compile:
.c.o:  ; $(CC) -c $(CFLAGS) $<

# ----------------------------------Binden
OBJ = init.o \
      flag.o \
      boundary.o \
      uvp.o \
      turbulence.o \
      visual.o \
      surface.o \
      main.o 

# ----------------------------------Ausfuehren
run: $(OBJ)
	$(CC) $(CFLAGS) -o run.exe $(OBJ) -lm

init.o       : datadef.h
flag.o       : datadef.h cars.c drachen.c valves.c
boundary.o   : init.h datadef.h
uvp.o        : init.h datadef.h
turbulence.o : init.h datadef.h
visual.o     : visual.h datadef.h
surface.o    : surface.h visual.h datadef.h
main.o       : init.h flag.h boundary.h uvp.h \
               turbulence.h datadef.h surface.h \
               visual.h

# --------------------------- manuell starten mit
#            run.exe daten.par
